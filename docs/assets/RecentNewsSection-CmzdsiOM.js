import{r as t,j as e,L as n}from"./index-DibEciFQ.js";import{d as o}from"./staticApi-B-oOXdtS.js";function g(){const[c,d]=t.useState(!1),[i,r]=t.useState(null);return t.useEffect(()=>{const a=async()=>{try{const l=await o();r(l.slice(0,3))}catch(l){console.error("Failed to fetch news:",l),r([])}},s="requestIdleCallback"in window?window.requestIdleCallback(a):setTimeout(a,0);return()=>{"cancelIdleCallback"in window?window.cancelIdleCallback(s):clearTimeout(s)}},[]),t.useLayoutEffect(()=>{let a=0,s=0;return a=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>d(!0))}),()=>{cancelAnimationFrame(a),cancelAnimationFrame(s)}},[]),e.jsx("div",{style:{contentVisibility:"auto",containIntrinsicSize:"1200px 800px"},className:["py-20 bg-white","transition-opacity transition-transform duration-700 ease-out","transform-gpu will-change-transform",c?"opacity-100 translate-y-0":"opacity-0 translate-y-6"].join(" "),children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Recent News"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Stay updated with the latest news."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:i.map(a=>e.jsx(n,{href:`/news/${a.id}`,className:"block",children:e.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[a.imageUrl&&e.jsx("div",{className:"aspect-video bg-gray-200",children:e.jsx("img",{src:a.imageUrl,alt:a.title,loading:"lazy",decoding:"async",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:a.title}),a.summary&&e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:a.summary}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500",children:e.jsx("span",{children:new Date(a.publishedAt).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})})]})]})},a.id))}),e.jsx("div",{className:"text-center",children:e.jsx(n,{href:"/news",className:"inline-flex px-4 py-2 border rounded",children:"View All News"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(a=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},a))})})})}export{g as default};
