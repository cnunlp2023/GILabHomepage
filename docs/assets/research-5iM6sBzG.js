import{c as y,j as e,B as f,r as o}from"./index-B3bKVPv2.js";import{C as j,a as b,c as v,b as N}from"./card-mbewCNmU.js";import{b as w,c as A}from"./staticApi-DgEvq_7x.js";import{B as p,E as C}from"./badge-Br6U7KNH.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=y("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function k({data:s,isAdmin:i,onEdit:t}){var m;const c=s.type==="journal"?s.journal||"":s.conference||"",d=s.thumbnailUrl||s.imageUrl||"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'>
          <rect width='100%' height='100%' fill='#F3F4F6'/>
          <rect x='32' y='24' width='336' height='252' rx='12' fill='#E5E7EB'/>
          <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle'
            font-family='Inter,system-ui,Arial' font-size='16' fill='#9CA3AF'>Preview</text>
        </svg>`);return e.jsxs(j,{className:"group relative overflow-hidden rounded-2xl border hover:shadow-xl transition-all duration-300",children:[i&&e.jsx("button",{type:"button",onClick:()=>t==null?void 0:t(s.id),className:"absolute top-3 right-3 inline-flex items-center justify-center h-8 w-8 rounded-full border bg-white hover:bg-gray-50","aria-label":"수정",title:"수정",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex gap-6 p-5 md:p-6",children:[e.jsx("div",{className:"w-48 sm:w-60 md:w-72 lg:w-80 shrink-0",children:e.jsx("div",{className:"relative aspect-[4/3] overflow-hidden rounded-xl bg-gray-100",children:e.jsx("img",{src:d,alt:`${s.title} preview`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-[1.02]",loading:"lazy"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-2 mb-2",children:[e.jsx(p,{variant:"secondary",className:"rounded-full",children:s.type==="journal"?"Journal":"Conference"}),e.jsx(p,{variant:"outline",className:"rounded-full",children:s.year}),c&&e.jsx("span",{className:"text-sm text-muted-foreground",children:c})]}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-semibold leading-snug",children:s.title}),s.url&&e.jsx("a",{href:s.url,target:"_blank",rel:"noreferrer",className:"shrink-0 inline-flex items-center justify-center h-9 w-9 rounded-full border hover:bg-gray-50","aria-label":"Open link",title:"Open link",children:e.jsx(C,{className:"h-4 w-4"})})]}),(m=s.authorsHtml)!=null&&m.trim()?e.jsx("div",{className:"mt-1 text-sm text-gray-700 flex flex-wrap gap-x-2 gap-y-1",dangerouslySetInnerHTML:{__html:s.authorsHtml}}):Array.isArray(s.authors)&&s.authors.length>0?e.jsx("div",{className:"mt-1 text-sm text-gray-700 flex flex-wrap gap-x-2 gap-y-1",children:s.authors.map((n,l)=>n!=null&&n.homepage?e.jsx("a",{href:n.homepage,target:"_blank",rel:"noreferrer",className:"underline",dangerouslySetInnerHTML:{__html:n.name}},`${l}-${n.name}`):e.jsx("span",{dangerouslySetInnerHTML:{__html:(n==null?void 0:n.name)??""}},`${l}-${(n==null?void 0:n.name)??"author"}`))}):null,s.abstract&&e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:`
                  text-sm text-muted-foreground
                  overflow-hidden
                  transition-[max-height] duration-500 ease-in-out
                  max-h-[3.25rem] group-hover:max-h-64
                `,dangerouslySetInnerHTML:{__html:s.abstract}})}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[s.pdfUrl&&e.jsx(f,{asChild:!0,variant:"outline",size:"sm",children:e.jsx("a",{href:s.pdfUrl,target:"_blank",rel:"noreferrer",children:"PDF"})}),s.codeUrl&&e.jsx(f,{asChild:!0,variant:"ghost",size:"sm",className:"text-lab-blue",children:e.jsx("a",{href:s.codeUrl,target:"_blank",rel:"noreferrer",children:"Code"})})]})]})]})]})}const U=s=>(s??"").toLowerCase()==="journal"?"journal":"conference";function P(s){const i=(s==null?void 0:s.authors)??(s==null?void 0:s.authors_data)??[];return(Array.isArray(i)?i:[]).map(t=>({name:(t==null?void 0:t.nameHtml)??(t==null?void 0:t.name)??"",homepage:(t==null?void 0:t.homepage)??""}))}function B(){const[s,i]=o.useState([]),[t,c]=o.useState([]),[d,m]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const[a,r]=await Promise.all([w(),A()]);i(a),c(r)}catch(a){console.error("Failed to load data:",a)}finally{m(!1)}})()},[]);const n=o.useMemo(()=>{const l=new Map;return t.forEach(a=>{const r=Number(a.year);l.has(r)||l.set(r,[]),l.get(r).push(a)}),Array.from(l.entries()).sort((a,r)=>r[0]-a[0]).map(([a,r])=>({year:a,list:r.sort((x,h)=>{const u=x.displayOrder??0,g=h.displayOrder??0;return u!==g?u-g:(x.title||"").localeCompare(h.title||"")})}))},[t]);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("div",{className:"text-center",children:e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Research & Publications"})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-10 space-y-12",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"연구분야"}),d?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:4}).map((l,a)=>e.jsx("div",{className:"h-28 bg-gray-200 rounded-md"},a))}):s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(l=>e.jsxs(j,{children:[e.jsx(b,{className:"pb-2",children:e.jsx(v,{className:"text-base",children:l.name})}),e.jsx(N,{children:l.description?e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:l.description}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"설명이 없습니다."})})]},l.id))}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"등록된 연구분야가 없습니다."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"논문"}),d?e.jsx("div",{className:"space-y-6 animate-pulse",children:Array.from({length:3}).map((l,a)=>e.jsx("div",{className:"h-48 bg-gray-200 rounded-2xl"},a))}):t.length>0?e.jsx("div",{className:"space-y-10",children:n.map(({year:l,list:a})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-4",children:l}),e.jsx("div",{className:"space-y-6",children:a.map(r=>e.jsx(k,{data:{id:r.id,year:r.year,type:U(r.type),title:r.title,journal:r.journal??null,conference:r.conference??null,abstract:r.abstract??"",imageUrl:r.imageUrl??void 0,pdfUrl:r.pdfUrl??void 0,authors:P(r)},isAdmin:!1,onEdit:()=>{}},r.id))})]},l))}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"등록된 논문이 없습니다."})]})]})]})}export{B as default};
