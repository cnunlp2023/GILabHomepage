import{c as v,r as o,j as e,B as b}from"./index-Cr6nKKql.js";import{B as j,E as N}from"./badge-BXO3IScd.js";import{C as y,a as w,b as k}from"./card-DcVesmh3.js";import{f as C}from"./staticApi-T5EQuzHw.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=v("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=v("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function M(n){const a=Array.isArray(n.publications)?n.publications:Array.isArray(n.items)?n.items:[],[d,i]=o.useState(0),[c,x]=o.useState(!0),m=n.intervalMs??8e3;o.useEffect(()=>{if(!c||a.length<=1)return;const t=setInterval(()=>i(l=>(l+1)%a.length),m);return()=>clearInterval(t)},[c,a.length,m]);const u=t=>i(t),r=()=>i(t=>(t+1)%Math.max(a.length,1)),p=()=>i(t=>(t-1+Math.max(a.length,1))%Math.max(a.length,1));return a.length===0?e.jsx("section",{className:"relative z-20 isolate",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"h-64 rounded-2xl border bg-white/60 backdrop-blur flex items-center justify-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"No publications to show."})})})}):e.jsx("section",{className:"relative z-20 isolate",onMouseEnter:()=>x(!1),onMouseLeave:()=>x(!0),"data-testid":"publication-slider",children:e.jsxs("div",{className:"relative overflow-x-hidden overflow-y-visible",children:[e.jsx("div",{className:"flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${d*100}%)`},"data-testid":"slider-track",children:a.map((t,l)=>{var f;const h=t.type==="journal"?t.journal||"":t.conference||"";return e.jsx("div",{className:"w-full flex-shrink-0 px-4 pb-10 md:pb-12",children:e.jsxs(y,{className:"group relative max-w-5xl mx-auto rounded-2xl shadow-lg hover:shadow-2xl bg-white/90 backdrop-blur transition-all duration-300 overflow-visible",children:[e.jsxs(w,{className:"space-y-3 pt-6 pb-2 md:pt-7 md:pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(j,{variant:"secondary",className:"rounded-full",children:t.type==="journal"?"Journal":"Conference"}),e.jsx(j,{variant:"outline",className:"rounded-full",children:t.year}),h&&e.jsx("span",{className:"text-sm text-muted-foreground",children:h})]}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-semibold leading-snug",children:t.title}),t.url&&e.jsx("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"shrink-0 inline-flex items-center justify-center h-9 w-9 rounded-full border hover:bg-gray-50","aria-label":"Open link",title:"Open link",children:e.jsx(N,{className:"h-4 w-4"})})]}),(f=t.authorsHtml)!=null&&f.trim()?e.jsx("div",{className:"mt-1 text-sm text-gray-700 flex flex-wrap gap-x-2 gap-y-1",dangerouslySetInnerHTML:{__html:t.authorsHtml}}):Array.isArray(t.authors)&&t.authors.length>0?e.jsx("div",{className:"mt-1 text-sm text-gray-700 flex flex-wrap gap-x-2 gap-y-1",children:t.authors.map((s,g)=>s!=null&&s.homepage?e.jsx("a",{href:s.homepage,target:"_blank",rel:"noreferrer",className:"underline",dangerouslySetInnerHTML:{__html:s.name}},`${g}-${s.name}`):e.jsx("span",{dangerouslySetInnerHTML:{__html:(s==null?void 0:s.name)??""}},`${g}-${(s==null?void 0:s.name)??"author"}`))}):null]}),e.jsxs(k,{className:"space-y-4 pt-2 pb-6 md:pt-3 md:pb-7",children:[t.imageUrl&&e.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-52 md:h-60 object-cover rounded-xl",loading:"lazy"}),t.abstract&&e.jsx("div",{children:e.jsx("div",{className:`
                            text-sm md:text-[15px] text-muted-foreground
                            overflow-hidden transition-[max-height] duration-500 ease-in-out
                            max-h-20 group-hover:max-h-[1000px]
                          `,dangerouslySetInnerHTML:{__html:t.abstract}})}),t.pdfUrl&&e.jsx("div",{className:"pt-1",children:e.jsx("a",{href:t.pdfUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-xs px-2.5 py-1.5 rounded-md border",children:e.jsx("span",{children:"ðŸ“„ PDF"})})})]})]})},t.id??l)})}),e.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:a.map((t,l)=>e.jsx("button",{onClick:()=>u(l),className:`w-2.5 h-2.5 rounded-full transition-all duration-200 ${d===l?"bg-lab-blue":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${l+1}`},l))}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"outline",size:"icon",onClick:p,className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-white/85 hover:bg-white rounded-full shadow-lg","aria-label":"Previous",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx(b,{variant:"outline",size:"icon",onClick:r,className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 bg-white/85 hover:bg-white rounded-full shadow-lg","aria-label":"Next",children:e.jsx(L,{className:"h-4 w-4"})})]})]})})}function H(){const[n,a]=o.useState(null),[d,i]=o.useState(!0),[c,x]=o.useState(null);return o.useEffect(()=>{let m=!1;const u=()=>{C(8).then(r=>{m||(a(Array.isArray(r)?r:[]),i(!1))}).catch(r=>{m||(x((r==null?void 0:r.message)??"Failed to load"),i(!1))})};return"requestIdleCallback"in window?window.requestIdleCallback(u):setTimeout(u,0),()=>{m=!0}},[]),e.jsxs("section",{className:["relative z-20 isolate overflow-visible"].join(" "),"data-testid":"publications-section",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:"Latest Publications"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Recent Work in Top-Teir conferences."})]}),d&&e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-96 bg-gray-200/70 rounded-2xl"})}),!d&&c&&e.jsxs("div",{className:"rounded-xl border bg-red-50 text-red-700 p-4 text-sm",children:["Failed to load publications: ",c]}),!d&&!c&&e.jsx(M,{publications:n??[]})]})}export{H as default};
